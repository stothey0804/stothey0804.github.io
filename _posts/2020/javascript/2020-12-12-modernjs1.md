---
title: \[javascript] 스터디 1주차 - 자바스크립트 코딩의 기술 1-3장 요약
categories:
- Javascript
toc: true
toc_sticky: true
---

학원 수료를 마치고 신입 개발자로서 프런트엔드 업무를 맡게되었다. 역시나 걸리는 점은... 자바스크립트가 약하다는 생각이다. 
그래서 비슷한 고통을 겪는 학원 동기들과 스터디를 하게 됐다.

스터디에 사용할 책은 **자바스크립트 코딩의 기술(조 모건 저)**.

총 10장 구성이며, 1주차인 이번주는 3장까지 요약정리한다.

## 1. 변수 할당으로 의도를 표현하라.

과거에는 `var`을 통해서만 변수를 할당해였지만, ES6+ 부터는 `const`와 `let`가 추가되었다.
`var`은 어휘적 유효범위(함수 유효범위)를 따르기 때문에 의도치 않은 결과를 얻을 수 있지만, `const`와 `let`은 **블록 유효범위**를 따르기 때문에 프로그래머가 예상한 결과를 얻을 수 있다.

### 1.1. 블록 유효범위로 선언하자.

#### 유효범위 충돌 - 예제코드

다음은 배열의 각 요소에 함수를 연결하는 예시코드이다.

```javascript
function addClick(items){
    for(var i = 0; i < items.length; i++){
        items[i].onClick = function(){
            return i;
        };
    }
    return items;
}
const example = [{}, {}];
const clickSet = addClick(example);
clickSet[0].onClick(); // 2
clickSet[1].onClick(); // 2
```

인덱스에 해당하는 return값을 출력 시키고자 하는 의도로 짜여졌지만 `onClick()`함수는 2만 출력한다.
이는 for문에 iterator로 사용하는 변수가 `var`로 선언되었기 떄문이다. 

```javascript
function addClick(items){
    for(let i = 0; i < items.length; i++){
        items[i].onClick = function(){
            return i;
        };
    }
    return items;
}
const example = [{}, {}];
const clickSet = addClick(example);
clickSet[0].onClick(); // 0
clickSet[0].onClick(); // 1
```

위 처럼 `let`으로 바꾸어주었더니 의도한 대로 출력되는 것을 확인할 수 있다.

### 1.2. 템플릿 리터럴을 사용하자.

전통적으로 변수를 포함한 문자열을 리턴할 때 `+`연산자를 사용하여 연결시켜주었는데,
템플릿 리터럴을 사용하면 편리하게 연결해서 사용할 수 있다.  

```javascript
function generateLink(image, width){
    const widthInt = parseInt(width, 10);
    return 'http://' + getProvider() + '/' + image + '?width=' + widthInt;
}
```

위 코드는 URL을 생성하는 함수인데, 간단한 URL임에도 불구하고 지저분하다.
이 때 백틱 (\`) 안에 `${}`을 사용하여 자바스크립트 코드를 감싸서 템플릿 리터럴을 사용한다.

```javascript
function generateLink(image, width){
    const widthInt = parseInt(width, 10);
    return `http://${getProvider()}/${image}?width=${widthInt}`
}
```

el 태그를 사용해보았기 때문에 더 친숙하게 사용할 수 있을 것같다. 


### 요약

1. const와 let은 블록 유효범위를 갖는다.
2. 기본적으로 const를 사용하여 변하지 않는 값을 표현하며, 가변값을 저장할 때는 let을 사용한다. (명시적으로 구분되는 효과도 있다.)
3. 백틱 (\`) 를 사용하여 변수를 읽는 문자열을 사용한다.

- - -

## 2. 배열로 데이터컬렉션을 관리하라.

2장에서는 데이터와, 다른 객체 및 컬렉션을 배열로 변환하는 방법을 살펴본다. 
저자가 배열의 사용을 강력추천하기도하고 자료구조의 기본이기도 하니 잘 살펴보는게 좋겠다.

배열의 특징을 다시 한번 상기 시켜보자. 배열은 순서를 갖고 있는 데이터 컬렉션 구조이다. 

또, 추가, 제거, 정렬, 필터링, 교체 등 조작이 필요하다면 더욱 적합하다. 
ES5와 ES6의 새로운 문법 중 상당수가 배열과 관련되어있다.

🔗 <a href="https://github.com/stothey0804/simplifying-js/blob/master/arrays/arrays/arrays.js">array 예제 링크</a><br>

배열의 이점을 확인할 수 있는 코드는 위 링크를 통해 확인해볼 수 있다.

### 1.1. 객체를 키-값쌍을 모든 배열로 바꾸기

```javascript
const dog = {
    name: 'Don',
    color: 'black',
}
dog.name; // Don
```
위와 같은 객체는

```javascript
const dogPair = [
    ['name', 'Don'],
    ['color', 'black'],
]
function getName(dog){
    return dog.find(attr => {
        return attr[0] === 'name';
    })[1];
}
```

처럼 키-값 쌍을 모은 배열로 바꿀 수 있다. 어디까지나 바꿀 수 있다는 예제이므로 참고만 할 것.
현재는 `Object.entries()`를 이용해서 객체를 키-값 쌍 배열로 변환시킨다.
 
### 1.2. includes()를 사용하여 존재 확인하기

배열의 요소의 존재여부를 확인하는 코드를 살펴보자.

```javascript
const section = ['contact','shipping'];

function displayShipping(sections){
    /* if(sections.indexOf('shipping')){
        return true;
    }
    return false; */ // 위치가 0번째면 false를 리턴하는 불상사가 생김.
    return sections.indexOf('shipping') > -1;   // 위 문제를 개선
}
```
`indexOf()`를 사용하여 체크는 예제인데, 문제는 없지만 코드가 직관적이진 않다.

```javascript
const section = ['contact','shipping'];

function displayShipping(sections){
    return sections.includes('shipping'); // includes() 를 사용.
}
```
`includes()`를 사용하여 수정한 코드이다. 코드를 보자마자 이해할 수 있을 정도로 직관적으로 변했다.

### 1.3. 펼침연산자!

펼침연산자는 매우 폭넓게 사용되며 유용한 기능이다. 예시를 보면 안쓸 수가 없다.
우선 사용법은 다음과 같다.

```javascript

```


## 3. 특수한 컬렉션을 이용해 코드 명료성을 극대화 하라.

```javascript
```